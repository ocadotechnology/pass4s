"use strict";(self.webpackChunkpass4s=self.webpackChunkpass4s||[]).push([[978],{4608:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var t=n(8168),o=(n(6540),n(5680));const s={sidebar_position:3,description:"JSON message serialization with Circe"},a="JSON",i={unversionedId:"modules/json",id:"modules/json",title:"JSON",description:"JSON message serialization with Circe",source:"@site/../mdoc/target/mdoc/modules/json.md",sourceDirName:"modules",slug:"/modules/json",permalink:"/pass4s/docs/modules/json",draft:!1,editUrl:"https://github.com/ocadotechnology/pass4s/edit/main/docs/modules/json.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,description:"JSON message serialization with Circe"},sidebar:"sidebar",previous:{title:"S3 Proxy",permalink:"/pass4s/docs/modules/s3proxy"},next:{title:"XML",permalink:"/pass4s/docs/modules/xml"}},c={},l=[],p={toc:l},d="wrapper";function u(e){let{components:r,...n}=e;return(0,o.yg)(d,(0,t.A)({},p,n,{components:r,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"json"},"JSON"),(0,o.yg)("p",null,"In it's core form, both the ",(0,o.yg)("inlineCode",{parentName:"p"},"Consumer")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"Producer")," work with plain text messages. This is usually not the case for real life applications. "),(0,o.yg)("p",null,"This section explains how to work with messages represented in JSON. Pass4s comes with the ",(0,o.yg)("a",{parentName:"p",href:"https://circe.github.io/circe/"},"Circe")," support for JSON message transformation."),(0,o.yg)("p",null,"To use the module make sure to add following import to your ",(0,o.yg)("inlineCode",{parentName:"p"},"build.sbt")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},'// circe JSON senders/consumers\n"com.ocadotechnology" %% "pass4s-circe" % "v0.4.10"\n')),(0,o.yg)("p",null,"With that module added, you can now import additional syntax for consumers and producers. To enable the syntax add following import to your file:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},"import com.ocadotechnology.pass4s.circe.syntax._\n")),(0,o.yg)("p",null,"The syntax allows you to use ",(0,o.yg)("inlineCode",{parentName:"p"},".asJsonSender[T]")," on the senders and ",(0,o.yg)("inlineCode",{parentName:"p"},".asJsonConsumer[T]")," on consumers. Please note that for this to work, you need to provide ",(0,o.yg)("inlineCode",{parentName:"p"},"io.circe.Encoder[T]")," in case of ",(0,o.yg)("inlineCode",{parentName:"p"},"Sender")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"io.circe.Decoder[T]")," for ",(0,o.yg)("inlineCode",{parentName:"p"},"Consumer"),". Please refer to this section ",(0,o.yg)("a",{parentName:"p",href:"https://circe.github.io/circe/codec.html"},"https://circe.github.io/circe/codec.html")," in Circe documentation for more detailed info on how encoders and decoders work."),(0,o.yg)("p",null,"When applying the syntax to consumer, consider using ",(0,o.yg)("a",{parentName:"p",href:"message-processor"},"MessageProcessor"),"."))}u.isMDXComponent=!0},5680:(e,r,n)=>{n.d(r,{xA:()=>p,yg:()=>y});var t=n(6540);function o(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach((function(r){o(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i(e,r){if(null==e)return{};var n,t,o=function(e,r){if(null==e)return{};var n,t,o={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(o[n]=e[n]);return o}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=t.createContext({}),l=function(e){var r=t.useContext(c),n=r;return e&&(n="function"==typeof e?e(r):a(a({},r),e)),n},p=function(e){var r=l(e.components);return t.createElement(c.Provider,{value:r},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,o=e.mdxType,s=e.originalType,c=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=l(n),m=o,y=d["".concat(c,".").concat(m)]||d[m]||u[m]||s;return n?t.createElement(y,a(a({ref:r},p),{},{components:n})):t.createElement(y,a({ref:r},p))}));function y(e,r){var n=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var s=n.length,a=new Array(s);a[0]=m;var i={};for(var c in r)hasOwnProperty.call(r,c)&&(i[c]=r[c]);i.originalType=e,i[d]="string"==typeof e?e:o,a[1]=i;for(var l=2;l<s;l++)a[l]=n[l];return t.createElement.apply(null,a)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);